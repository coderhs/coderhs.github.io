<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Harisankar P S | Ruby on Rails Developer</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="" /><meta name="description" content="Harisankar P S - Software Engineer specializing in Ruby on Rails" /><meta name="keywords" content="Harisankar P S, software, developer, Ruby, Ruby on Rails, docker, linux, sre, AWS" />






<meta name="generator" content="Hugo 0.152.2 with theme even" />


<link rel="canonical" href="https://hsps.in/" />
  <link href="https://hsps.in/index.xml" rel="alternate" type="application/rss+xml" title="Harisankar P S | Ruby on Rails Developer" />
  <link href="https://hsps.in/index.xml" rel="feed" type="application/rss+xml" title="Harisankar P S | Ruby on Rails Developer" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.97bfc7bc4b9b5e33f07afb1dd7c9f72739fe1a13371ee7155cde65ce085d8bc6.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:url" content="https://hsps.in/">
  <meta property="og:site_name" content="Harisankar P S | Ruby on Rails Developer">
  <meta property="og:title" content="Harisankar P S | Ruby on Rails Developer">
  <meta property="og:description" content="Harisankar P S - Software Engineer specializing in Ruby on Rails">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">

  <meta itemprop="name" content="Harisankar P S | Ruby on Rails Developer">
  <meta itemprop="description" content="Harisankar P S - Software Engineer specializing in Ruby on Rails">
  <meta itemprop="datePublished" content="2025-12-07T19:15:00+05:30">
  <meta itemprop="dateModified" content="2025-12-07T19:15:00+05:30">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Harisankar P S | Ruby on Rails Developer">
  <meta name="twitter:description" content="Harisankar P S - Software Engineer specializing in Ruby on Rails">

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">HsPS.in</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/post/">
        <li class="mobile-menu-item">Articles</li>
      </a><a href="/videos/">
        <li class="mobile-menu-item">Speaking</li>
      </a><a href="/about">
        <li class="mobile-menu-item">About</li>
      </a><a href="/subscribe">
        <li class="mobile-menu-item">Subscribe</li>
      </a><a href="/projects">
        <li class="mobile-menu-item">Projects</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">HsPS.in</a>
  <br>
  <i>My thoughts and opinions</i>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item" style="margin-right: 1rem;">
        <a class="menu-item-link" href="/post/">Articles</a>
      </li><li class="menu-item" style="margin-right: 1rem;">
        <a class="menu-item-link" href="/videos/">Speaking</a>
      </li><li class="menu-item" style="margin-right: 1rem;">
        <a class="menu-item-link" href="/about">About</a>
      </li><li class="menu-item" style="margin-right: 1rem;">
        <a class="menu-item-link" href="/subscribe">Subscribe</a>
      </li><li class="menu-item" style="margin-right: 1rem;">
        <a class="menu-item-link" href="/projects">Projects</a>
      </li>
  </ul>
</nav>


<script async src="https://www.googletagmanager.com/gtag/js?id=G-ME9J4YD4H0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ME9J4YD4H0');
</script>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <section id="posts" class="posts">
    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/git-worktree-ai-workflow/">Git Worktree: Scaling Your AI Workflow</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2025-12-07 </span>
      <div class="post-category">
          <a href="/categories/git/"> Git </a>
          <a href="/categories/productivity/"> Productivity </a>
          </div>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>I&rsquo;ve been using <code>git</code> for years, but to be honest, I wasn&rsquo;t even aware of <code>git worktree</code> until I started using AI for development.</p>
<p>Before this, my workflow for context switching was pretty standard. If I was in the middle of something and needed to check another branch or fix a bug, I&rsquo;d rely on <code>git stash</code> or <code>git stash -u</code> (to catch those untracked files). Sometimes I&rsquo;d just commit what I had, knowing I would eventually &ldquo;Squash and Merge&rdquo; my Pull Requests anyway, so a few messy &ldquo;WIP&rdquo; commits didn&rsquo;t really matter.</p>
<p>But recently, I found a new bottleneck: <strong>I have more ideas than I have open AI contexts.</strong></p>
<p>We often treat AI as a faster pair programmer, but we still tend to work sequentially. We ask Cursor or Claude Code to do X, watch it generate code, review it, and then move to Y.</p>
<p>But what if you could implement Idea A, Idea B, and Fix C all at the same time?</p>
<p>Enter <code>git worktree</code>.</p>
    </div>
    <div class="read-more">
      <a href="/post/git-worktree-ai-workflow/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/html-picture-tag/">Mastering the HTML Picture Tag: Responsive Images, WebP, and AVIF</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2025-12-07 </span>
      <div class="post-category">
          <a href="/categories/html/"> HTML </a>
          <a href="/categories/rails/"> Rails </a>
          <a href="/categories/performance/"> Performance </a>
          </div>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>I haven&rsquo;t thought about HTML in a long time, but recently came across the usage of picture tag(s). I was so impressed that I wanted to blog about it. This is nothing new, and used a lot by the web already.</p>
<p>The <code>picture</code> tag gives us a lot of control over how images are loaded, solving two main problems: efficient formats and responsive sizing.</p>
<h2 id="webp-support">WebP Support</h2>
<p>We all know WebP images are smaller and faster to load, but not every browser supported them initially (though support is great now). The <code>picture</code> tag allows us to serve WebP to browsers that support it, while falling back to PNG or JPEG for others.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">picture</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">source</span> <span class="na">srcset</span><span class="o">=</span><span class="s">&#34;image.webp&#34;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;image/webp&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">source</span> <span class="na">srcset</span><span class="o">=</span><span class="s">&#34;image.jpg&#34;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;image/jpeg&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;image.jpg&#34;</span> <span class="na">alt</span><span class="o">=</span><span class="s">&#34;My Image&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">picture</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>The browser parses the <code>&lt;source&gt;</code> tags from top to bottom. The first one with a supported <code>type</code> is chosen. If none match, it falls back to the standard <code>&lt;img&gt;</code> tag.</p>
    </div>
    <div class="read-more">
      <a href="/post/html-picture-tag/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/object-or-software-builder-pattern-in-ruby/">üèóÔ∏è Understanding the Builder Pattern with Ruby Examples</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2025-08-05 </span>
      <div class="post-category">
          <a href="/categories/software-design-pattern/"> Software Design Pattern </a>
          </div>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>Design patterns are only useful when they help solve real world problems in ways that feel natural in your language. In Ruby, one such pattern that fits like a glove is the <strong>Builder Pattern</strong>.</p>
<p>You&rsquo;ll find it everywhere, from constructing HTML forms in Rails to building command-line interfaces or even assembling HTTP requests.</p>
<h2 id="-what-is-the-builder-pattern">üì¶ What Is the Builder Pattern?</h2>
<p>In real world projects, we often model things as objects. The idea is that objects are instances of a common blueprint, sharing the same structure but differing in a few properties like name, age, etc. However, when there are many properties to configure and you need more control over how the final object is built, that&rsquo;s where the Builder pattern becomes useful. It helps construct complex objects step by step without cluttering your code with long initializers or deeply nested logic.</p>
<p>The <strong>Builder Pattern</strong> is used to construct complex objects step-by-step. Rather than stuffing all parameters into a huge constructor, you build an object one piece at a time, usually using a <strong>fluent interface</strong> (method chaining).</p>
    </div>
    <div class="read-more">
      <a href="/post/object-or-software-builder-pattern-in-ruby/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/using-file-upload-to-cache-serving-pdf-files/">Caching Rendered PDFs in Rails with Active Storage</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2025-07-26 </span>
      <div class="post-category">
          <a href="/categories/rails/"> rails </a>
          </div>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>As I was working on <a href="https://easyclientlog.com">easyclientlog.com</a>, building its invoice system that allows freelancers/consultants to generates PDFs. Working with PDF generating is that, its takes time and CPU cycles. But most of the time
the pdf only needs to be generated once, and the content seldom changes. So rendering the same thing over and over just didn‚Äôt feel right. So I used a simple trick that I‚Äôve followed in many of my prior Rails apps: upload the PDF on first render, store it using Active Storage, and reuse that file on the next access.</p>
<h2 id="the-idea-cache-on-first-render">The Idea: Cache on First Render</h2>
<p>When the PDF is generated the first time, we attach it to the record using Active Storage. This could be an invoice, report, or any other object. The next time we need to show or download the PDF, we skip the rendering step and simply serve the uploaded file.</p>
<p>This avoids unnecessary rendering and speeds up response times, especially for large documents or when generating in bulk.</p>
    </div>
    <div class="read-more">
      <a href="/post/using-file-upload-to-cache-serving-pdf-files/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    <article class="post">
  <header class="post-header">
    <h1 class="post-title"><a class="post-link" href="/post/rails-current-attributes/">A Complete Guide to Rails.current_attributes (ActiveSupport::CurrentAttributes)</a></h1>
    <div class="post-meta">
      <span class="post-time"> 2025-07-08 </span>
      <div class="post-category">
          <a href="/categories/rails/"> rails </a>
          </div>
    </div>
  </header>
  
  <div class="post-content">
    <div class="post-summary">
      <p>Managing context like the current user, store, client, or request ID across controllers, models, jobs, and services in a Rails app has always been a little messy. Before Rails 5.2, you might‚Äôve reached for <code>Thread.current</code>, <code>class_attribute</code>, or even <code>@@class_variables</code> to store this kind of state. But these are not thread-safe and can cause hard-to-debug issues in concurrent environments.</p>
<p>Rails 5.2 introduced a clean solution: <code>ActiveSupport::CurrentAttributes</code>.</p>
<p>This article covers what it is, why it exists, how it works internally, how to use it safely across web and background jobs, and how to test it properly.</p>
<hr>
<h2 id="-a-quick-history">üìú A Quick History</h2>
<p><code>ActiveSupport::CurrentAttributes</code> was introduced by DHH in Rails 5.2 to simplify access to per-request or per-job context in a thread-safe way. It replaced older, hackier methods like:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-ruby" data-lang="ruby"><span class="line"><span class="cl"><span class="no">Thread</span><span class="o">.</span><span class="n">current</span><span class="o">[</span><span class="ss">:current_user</span><span class="o">]</span> <span class="o">=</span> <span class="n">user</span>
</span></span><span class="line"><span class="cl"><span class="no">ApplicationRecord</span><span class="o">.</span><span class="n">class_attribute</span> <span class="ss">:current_client</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>These approaches were shared across threads ‚Äî fine in development, dangerous in production.</p>
<p><code>CurrentAttributes</code> changed that by giving you a dedicated, Rails-friendly API for storing context that‚Äôs isolated per request/job.</p>
    </div>
    <div class="read-more">
      <a href="/post/rails-current-attributes/" class="read-more-link">Read more...</a>
    </div>
  </div>
</article>

    </section>
  
  <nav class="pagination">
    
    <a class="next" href="/page/2/">
        <span class="next-text">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
  </nav>
        </div>
        

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="https://github.com/coderhs" class="iconfont icon-github" title="github"></a>
  
    <a href="/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
  
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2011 - 
    2025<span class="heart"><i class="iconfont icon-heart"></i></span><span>Harisankar P S</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>








</body>
</html>
