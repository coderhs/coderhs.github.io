<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Performance on Harisankar P S | Ruby on Rails Developer</title>
    <link>https://hsps.in/tags/performance/</link>
    <description>Recent content in Performance on Harisankar P S | Ruby on Rails Developer</description>
    <generator>Hugo</generator>
    <language>en</language>
    <copyright>Harisankar P S</copyright>
    <lastBuildDate>Sun, 07 Dec 2025 08:19:13 +0530</lastBuildDate>
    <atom:link href="https://hsps.in/tags/performance/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Mastering the HTML Picture Tag: Responsive Images, WebP, and AVIF</title>
      <link>https://hsps.in/post/html-picture-tag/</link>
      <pubDate>Sun, 07 Dec 2025 08:19:13 +0530</pubDate>
      <guid>https://hsps.in/post/html-picture-tag/</guid>
      <description>&lt;p&gt;I haven&amp;rsquo;t thought about HTML in a long time, but recently came across the usage of picture tag(s). I was so impressed that I wanted to blog about it. This is nothing new, and used a lot by the web already.&lt;/p&gt;&#xA;&lt;p&gt;The &lt;code&gt;picture&lt;/code&gt; tag gives us a lot of control over how images are loaded, solving two main problems: efficient formats and responsive sizing.&lt;/p&gt;&#xA;&lt;h2 id=&#34;webp-support&#34;&gt;WebP Support&lt;/h2&gt;&#xA;&lt;p&gt;We all know WebP images are smaller and faster to load, but not every browser supported them initially (though support is great now). The &lt;code&gt;picture&lt;/code&gt; tag allows us to serve WebP to browsers that support it, while falling back to PNG or JPEG for others.&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;&#xA;&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5&#xA;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&#xA;&lt;td class=&#34;lntd&#34;&gt;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;picture&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;source&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;srcset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;image.webp&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;image/webp&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;source&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;srcset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;image.jpg&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;image/jpeg&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;img&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;src&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;image.jpg&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;alt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;My Image&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;picture&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;The browser parses the &lt;code&gt;&amp;lt;source&amp;gt;&lt;/code&gt; tags from top to bottom. The first one with a supported &lt;code&gt;type&lt;/code&gt; is chosen. If none match, it falls back to the standard &lt;code&gt;&amp;lt;img&amp;gt;&lt;/code&gt; tag.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Caching Rendered PDFs in Rails with Active Storage</title>
      <link>https://hsps.in/post/using-file-upload-to-cache-serving-pdf-files/</link>
      <pubDate>Sat, 26 Jul 2025 21:47:37 +0530</pubDate>
      <guid>https://hsps.in/post/using-file-upload-to-cache-serving-pdf-files/</guid>
      <description>&lt;p&gt;As I was working on &lt;a href=&#34;https://easyclientlog.com&#34;&gt;easyclientlog.com&lt;/a&gt;, building its invoice system that allows freelancers/consultants to generates PDFs. Working with PDF generating is that, its takes time and CPU cycles. But most of the time&#xA;the pdf only needs to be generated once, and the content seldom changes. So rendering the same thing over and over just didn’t feel right. So I used a simple trick that I’ve followed in many of my prior Rails apps: upload the PDF on first render, store it using Active Storage, and reuse that file on the next access.&lt;/p&gt;&#xA;&lt;h2 id=&#34;the-idea-cache-on-first-render&#34;&gt;The Idea: Cache on First Render&lt;/h2&gt;&#xA;&lt;p&gt;When the PDF is generated the first time, we attach it to the record using Active Storage. This could be an invoice, report, or any other object. The next time we need to show or download the PDF, we skip the rendering step and simply serve the uploaded file.&lt;/p&gt;&#xA;&lt;p&gt;This avoids unnecessary rendering and speeds up response times, especially for large documents or when generating in bulk.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Storing PostgreSQL Data in a Different Partition for Performance</title>
      <link>https://hsps.in/post/storing-postgresql-data-in-a-different-partition-for-performance/</link>
      <pubDate>Wed, 15 Jan 2025 18:20:19 +0530</pubDate>
      <guid>https://hsps.in/post/storing-postgresql-data-in-a-different-partition-for-performance/</guid>
      <description>&lt;p&gt;What I am suggesting is a method of optimization not just for PostgreSQL but for other similar databases as well. This is a more primitive, hardware-level performance optimization where an exclusive partition or hard disk is dedicated just for the actual data. By doing so, all the read and write operations related to your data happen on that disk, while OS-level and software-level read/write operations happen on another disk. This approach also makes it easier to handle failure, monitor disk health, and isolate workloads effectively.&lt;/p&gt;&#xA;&lt;h2 id=&#34;why-store-postgresql-data-in-a-separate-partition&#34;&gt;Why Store PostgreSQL Data in a Separate Partition?&lt;/h2&gt;&#xA;&lt;p&gt;Separating the data directory from the root filesystem has several advantages:&lt;/p&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;strong&gt;Improved Disk I/O Performance:&lt;/strong&gt; Storing data on a dedicated partition ensures that database read/write operations are isolated from the OS and application processes, avoiding competition for disk I/O.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Efficient Disk Usage Management:&lt;/strong&gt; By placing the data in a separate partition, you can allocate specific disk space for the database and prevent it from filling up the root partition.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Better Backup and Restore Control:&lt;/strong&gt; Storing data in a dedicated location simplifies backup processes and makes restoring data more efficient.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Optimized Disk Types:&lt;/strong&gt; Different types of storage media (e.g., SSD for faster reads/writes or HDD for archival data) can be used based on database needs.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;Isolation for Security and Resilience:&lt;/strong&gt; A dedicated partition reduces the risk of system failure in case of database corruption or storage issues.&lt;/li&gt;&#xA;&lt;/ol&gt;</description>
    </item>
    <item>
      <title>Setup Read Replica (master-slave) Database on Postgresql 17</title>
      <link>https://hsps.in/post/setup-master-slave-database-on-postgresql-17/</link>
      <pubDate>Thu, 24 Oct 2024 10:19:48 -0700</pubDate>
      <guid>https://hsps.in/post/setup-master-slave-database-on-postgresql-17/</guid>
      <description>&lt;p&gt;PostgreSQL is a mature, open-source relational database that has been widely adopted by many companies over the years. It has been my go-to database for most of my software career, helping me solve various performance challenges in my projects. Features like JSON generation, materialized views, and others have enabled me to scale APIs to handle millions of requests per second.&lt;/p&gt;&#xA;&lt;p&gt;One effective strategy to improve the performance of web applications is to create a read-only replica of the primary database. This allows you to direct read-only queries (e.g., &lt;code&gt;SELECT&lt;/code&gt; queries) to the replica, while write operations continue to target the primary database. Note that PostgreSQL doesn’t support multiple primary (or master) databases natively, but it does support multiple read replicas.&lt;/p&gt;&#xA;&lt;p&gt;Although you can achieve distributed primary databases via schema or table sharding, that topic is beyond the scope of this article.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
